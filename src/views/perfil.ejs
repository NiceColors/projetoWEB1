<!DOCTYPE html>
<html lang="en">

<head>

    <title>Feluslçoca</title>
    <link rel="stylesheet" href="/style/main.css">
    <link rel="stylesheet" href="/style/perfil.css">
</head>
<style>
    .hidden {
        display: none;
    }

    .icon {
        width: 24px;
        height: 24px;
        position: absolute;
        /* top: 32px; */
        right: 44rem;
        pointer-events: none;
        z-index: 2;
    }

    .icon.icon-success {
        fill: green;
    }

    .icon.icon-error {
        fill: red;
    }


    .label {
        font-weight: bold;
        display: block;
        color: #333;
        margin-bottom: 0.25rem;
        color: #2d3748;
    }

    .input::placeholder {
        color: #a0aec0;
    }

    .input.input-error {
        border: 1px solid red;
    }

    .input.input-error:focus {
        border: 1px solid red;
    }

    .input:focus {
        outline: none;
        border: 1px solid #a0aec0;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        background-clip: padding-box;
    }

    .input-group {
        position: relative;
    }

    .error-message {
        font-size: 0.85rem;
        color: red;
    }
</style>

<body>
    <div class="container">

        <nav>
            <div>
                <img src="/images/icon-handshake-small.svg" alt="Logo" srcset="">
                <a href="/">
                    <h1> Feluslçoca</h1>
                </a>
            </div>
            <div>
                <a href="/home/search?nomeDaPessoa=">Home</a>
                <a href="/logout">Sair</a>
            </div>
        </nav>

        <div class="profileHeader">

            <div>
                <img src="/images/photo_2020-10-20_20-10-24.jpg" alt="">
                <div>
                    <h1>
                        <%= dados.nome.charAt(0).toUpperCase() + dados.nome.substr(1) %>
                    </h1>
                    <p id="userId">ID: <%= userId %>
                    </p>
                    <p>
                        <%= dados.email %>
                    </p>
                </div>
            </div>
            <h1>
                <%= dados.nascimento.replace(/-/g, ' / ') %>
            </h1>
        </div>
        
        <div class="profileInfo">
            <form class="form" action="/atualizarDados">
                <div>
                    <div>
                        <h1>Nome</h1>
                        <input disabled type="text" id="nome" class="infNome" name="nome"
                            value="<%= dados.nome.charAt(0).toUpperCase() + dados.nome.substr(1) %> ">
                            <span class="error-message"></span>
                            <svg class="icon icon-success hidden hidden" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd" />
                            </svg>

                            <svg class="icon icon-error hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                                    clip-rule="evenodd" />
                            </svg>
                    </div>
                    <button onclick="habilitaEdicao(this)" type="button"><img src="/images/edit.png" alt=""
                            srcset=""></button>
                </div>
                <div>
                    <div>
                        <h1>Nascimento</h1>
                        <input disabled type="date" id="nascimento" name="nascimento" placeholder="YYYY-MM-DD" required pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" title="Enter a date in this formart YYYY-MM-DD" class="infNome" name="nascimento">
                        <span class="error-message"></span>
                        <svg class="icon icon-success hidden hidden" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd" />
                        </svg>

                        <svg class="icon icon-error hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <button onclick="habilitaEdicao(this)" type="button"><img src="/images/edit.png" alt=""
                            srcset=""></button>
                </div>
                <div>
                    <div>
                        <h1>CPF</h1>
                        <input disabled type="text" id="cpf" name="cpf" value="<%= dados.cpf %> ">
                        <span class="error-message"></span>
                        <svg class="icon icon-success hidden hidden" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd" />
                        </svg>

                        <svg class="icon icon-error hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <button type="button" onclick="habilitaEdicao(this)"><img src="/images/edit.png" alt=""
                            srcset=""></button>
                </div>
                <div>
                    <div>
                        <h1>Telefone</h1>
                        <input disabled id="tel" type="tel" name="tel" value="<%= dados.tel %> ">
                        <span class="error-message"></span>
                        <svg class="icon icon-success hidden hidden" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd" />
                        </svg>

                        <svg class="icon icon-error hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <button type="button" onclick="habilitaEdicao(this)"><img src="/images/edit.png" alt=""
                            srcset=""></button>
                </div>
                <div>
                    <div>
                        <h1>Email</h1>
                        <input disabled class="infNome" id="email" type="email" name="email" value="<%= dados.email %> ">
                        <span class="error-message">
                            <% if (erros) { %>
                                <span class="error-message">
                                    <%= errosMsg.email %>
                                </span>
                                <% } %>
                        </span>
                        <svg class="icon icon-success hidden hidden" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd" />
                        </svg>

                        <svg class="icon icon-error hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <button type="button" onclick="habilitaEdicao(this)"><img src="/images/edit.png" alt=""
                            srcset=""></button>
                </div>
                <div>
                    <div>
                        <h1>Senha</h1>
                        <input disabled id="senha" type="password" name="senha" placeholder="****************">
                        <span class="error-message"></span>
                        <svg class="icon icon-success hidden hidden" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd" />
                        </svg>

                        <svg class="icon icon-error hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <button type="button" onclick="habilitaEdicao(this)"><img src="/images/edit.png" alt=""
                            srcset=""></button>
                </div>

                <a type="button" id="submit" class="saveAccount">Salvar alterações</a>
                <a href="/del-perfil/{{id}}" class="deleteAccount">Excluir Conta</a">                
            </form>

        </div>

    </div>
</body>
<script>
    document.querySelector('input[type=date]').value = "<%= dados.nascimento %>"
</script>

<script src="/scripts/editarDados.js"></script>

</html>